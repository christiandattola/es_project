#ifndef MONITOREVENT_H
#define MONITOREVENT_H

#include "baseevent.h"
#include "../platformpower.h"
#include "../platformtemperature.h"
#include "../platformload.h"
#include <vector>
#include <iostream>

namespace rmcommon {

/*!
 * \class event generated by the periodical sampling of machine status information.
 */
class MonitorEvent : public BaseEvent {
    PlatformTemperature platTemp_;
    PlatformPower platPower_;
    PlatformLoad platLoad_;
public:
    MonitorEvent(PlatformTemperature temp, PlatformPower power, PlatformLoad load) :
        BaseEvent("MonitorEvent"),
        platTemp_(temp),
        platPower_(power),
        platLoad_(load)
    {}
    virtual ~MonitorEvent() = default;

    PlatformTemperature getPlatformTemperature() const {
        return platTemp_;
    }

    PlatformPower getPlatformPower() const {
        return platPower_;
    }

    PlatformLoad getPlatformLoad() const {
        return platLoad_;
    }

    virtual void printOnOstream(std::ostream &os) const {
        os << "{";
        os << "\"platTemp\":" << platTemp_;
        os << ",\"platPower\":" << platPower_;
        os << ",\"platLoad\":" << platLoad_;
        os << "}";
    }
};

}   // namespace rmcommon

#endif // MONITOREVENT_H
